import './polyfills.server.mjs';
import{a as it}from"./chunk-6UCKVUVI.mjs";import{a as et}from"./chunk-J2ZJT7VY.mjs";import{c as Y,e as Z,j as tt,u as q}from"./chunk-MTX2T7XM.mjs";import{p as X,s as N,w as v}from"./chunk-BZY2WXGJ.mjs";import{$ as w,Eb as M,R as A,Ra as m,S as f,Sa as F,aa as h,cb as D,eb as g,ha as R,ia as u,ib as a,ja as d,jb as s,kb as b,lb as P,ma as z,mb as C,nb as l,oa as T,pc as L,qb as B,qc as U,rc as W,sb as $,tb as G,ub as H,uc as S,vb as p,wb as J,xb as E,yb as K}from"./chunk-JKTVEF3F.mjs";var ct=[],nt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({imports:[v.forChild(ct),v]});let i=t;return i})();var V=class{};var ot=(()=>{let t=class t{range(n,e,o){e==null&&(e=n||0,n=0),o||(o=e<n?-1:1);let c=Math.max(Math.ceil((e-n)/o),0),x=Array(c);for(let _=0;_<c;_++,n+=o)x[_]=n;return x}getPagination(n,e,o){let c=Math.ceil(n/o),x,_,k=7;e<1&&(e=1),e>c&&(e=1),c<=k?(x=1,_=c):e<=k?(x=1,_=k):e+1>=c?(x=c-k+1,_=c,e<x&&(x=e+1,_=e+1)):(_=e,x=_-k+1);let st=this.range(x,_+1,1),Q=!1;c>k&&(Q=!0);let I=new V;return I.pages=st,I.browser=Q,I.total=c,I.current=e,I.perPage=o,I}};t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var j=i=>({disabled:i}),lt=i=>({active:i});function mt(i,t){if(i&1){let r=P();a(0,"li",5)(1,"a",6),C("click",function(){u(r);let e=l(2);return d(e.selectPage(1))})("keydown",function(){u(r);let e=l(2);return d(e.selectPage(1))}),p(2,"\xAB"),s()()}if(i&2){let r=l(2);g("ngClass",M(1,j,r.pagination.current===1))}}function gt(i,t){if(i&1){let r=P();a(0,"li",5)(1,"a",7),C("click",function(){u(r);let e=l(2);return d(e.selectPage(e.pagination.current-1))})("keydown",function(){u(r);let e=l(2);return d(e.selectPage(e.pagination.current-1))}),p(2,"\u2039"),s()()}if(i&2){let r=l(2);g("ngClass",M(1,j,r.pagination.current===1))}}function ut(i,t){if(i&1){let r=P();a(0,"li",5)(1,"a",7),C("click",function(){let e=u(r).$implicit,o=l(2);return d(o.selectPage(e))})("keydown",function(){let e=u(r).$implicit,o=l(2);return d(o.selectPage(e))}),p(2),s()()}if(i&2){let r=t.$implicit,n=l(2);g("ngClass",M(2,lt,n.pagination.current===r)),m(2),J(r)}}function dt(i,t){if(i&1){let r=P();a(0,"li",5)(1,"a",7),C("click",function(){u(r);let e=l(2);return d(e.selectPage(e.pagination.current+1))})("keydown",function(){u(r);let e=l(2);return d(e.selectPage(e.pagination.current+1))}),p(2,"\u203A"),s()()}if(i&2){let r=l(2);g("ngClass",M(1,j,r.pagination.current===r.pagination.total))}}function ft(i,t){if(i&1){let r=P();a(0,"li",5)(1,"a",7),C("click",function(){u(r);let e=l(2);return d(e.selectPage(e.pagination.total))})("keydown",function(){u(r);let e=l(2);return d(e.selectPage(e.pagination.total))}),p(2,"\xBB"),s()()}if(i&2){let r=l(2);g("ngClass",M(1,j,r.pagination.current===r.pagination.total))}}function ht(i,t){if(i&1&&(a(0,"nav",1)(1,"ul",2),D(2,mt,3,3,"li",3)(3,gt,3,3,"li",3)(4,ut,3,4,"li",4)(5,dt,3,3,"li",3)(6,ft,3,3,"li",3),s()()),i&2){let r=l();m(2),g("ngIf",r.pagination.browser),m(),g("ngIf",r.pagination.browser),m(),g("ngForOf",r.pagination.pages),m(),g("ngIf",r.pagination.browser),m(),g("ngIf",r.pagination.browser)}}var St=(()=>{let t=class t{constructor(n){this.paginationService=n,this.changePage=new T,this.pagination=new V}ngOnChanges(){this.pagination.count=this.count,this.pagination.perPage=this.perPage,this.pagination.page=this.page,this.pagination=this.paginationService.getPagination(this.pagination.count,this.pagination.page,this.pagination.perPage)}selectPage(n){this.changePage.emit(n)}};t.\u0275fac=function(e){return new(e||t)(F(ot))},t.\u0275cmp=w({type:t,selectors:[["app-pagination"]],inputs:{count:"count",page:"page",perPage:"perPage"},outputs:{changePage:"changePage"},features:[R],decls:1,vars:1,consts:[["aria-label","pagination",4,"ngIf"],["aria-label","pagination"],[1,"pagination","d-flex","justify-content-center","pagination-sm"],["class","page-item",3,"ngClass",4,"ngIf"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item",3,"ngClass"],["tabindex","1",1,"page-link","waves-effect","waves-effect",3,"click","keydown"],["tabindex","1",1,"page-link",3,"click","keydown"]],template:function(e,o){e&1&&D(0,ht,7,5,"nav",0),e&2&&g("ngIf",o.pagination.pages&&o.pagination.pages.length)},dependencies:[L,U,W]});let i=t;return i})();var jt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({imports:[S,nt]});let i=t;return i})();var xt=[],rt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({imports:[v.forChild(xt),v]});let i=t;return i})();var _t=["edit"],Bt=(()=>{let t=class t{constructor(){this.search=new T}searching(){this.search.emit(this.edit.nativeElement.value)}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=w({type:t,selectors:[["app-search-bar"]],viewQuery:function(e,o){if(e&1&&$(_t,5),e&2){let c;G(c=H())&&(o.edit=c.first)}},inputs:{searchField:"searchField",placeholder:"placeholder",results:"results",itemsCount:"itemsCount",icon:"icon"},outputs:{search:"search"},decls:18,vars:4,consts:[["edit",""],[1,"row"],[1,"col"],[1,"ml-4"],[1,"d-flex","pt-2"],[1,"d-flex","me-auto"],["type","text","name","searchField",1,"form-control","me-2",3,"ngModel","placeholder"],["type","button",1,"btn","btn-nga-primary","btn-sm","btn-nga",3,"click"],[1,"fa","fa-search"],[1,"d-flex","me-auto","d-none","d-md-block"],[1,"pt-2","ml-4"],[2,"color","gray"],[2,"color","#e0e0e0"]],template:function(e,o){if(e&1){let c=P();a(0,"div",1)(1,"div",2)(2,"span",3)(3,"strong"),p(4,"Feature"),s()(),a(5,"div",4)(6,"div",5),b(7,"input",6,0),a(9,"button",7),C("click",function(){return u(c),d(o.searching())}),b(10,"i",8),s()(),a(11,"div",9)(12,"div",10)(13,"b")(14,"span",11),p(15),s()(),a(16,"span",12),p(17,"( 0.432 ms )"),s()()()()()()}e&2&&(m(7),B("placeholder",o.placeholder),g("ngModel",o.searchField),m(8),K("",o.itemsCount," ",o.results,""))},dependencies:[Y,Z,tt],styles:[".btn-nga[_ngcontent-%COMP%]{-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f;padding:.5rem;font-size:.81rem;border:0;-webkit-border-radius:.125rem;border-radius:.125rem}.btn-nga[_ngcontent-%COMP%]:hover, .btn-nga[_ngcontent-%COMP%]:active, .btn-nga[_ngcontent-%COMP%]:focus{-webkit-box-shadow:0 5px 11px 0 rgba(0,0,0,.18),0 4px 15px 0 rgba(0,0,0,.15);box-shadow:0 5px 11px #0000002e,0 4px 15px #00000026;outline:0}.btn-nga-primary[_ngcontent-%COMP%]{border:2px solid #4285f4!important;color:#4285f4!important;background-color:transparent!important}"]});let i=t;return i})();var Ut=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({imports:[S,rt,q]});let i=t;return i})();var Ct=[],at=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({imports:[v.forChild(Ct),v]});let i=t;return i})();var te=(()=>{let t=class t{constructor(n){this.router=n}createItem(){this.router.navigate(["/crud/"+this.link,0])}};t.\u0275fac=function(e){return new(e||t)(F(N))},t.\u0275cmp=w({type:t,selectors:[["app-search-result"]],inputs:{searchField:"searchField",creation:"creation",found:"found",link:"link"},decls:20,vars:3,consts:[[1,"card","mb-4","text-center"],[1,"card-body"],["src","./assets/params/images/logo/dharma.png","height","70","width","70","alt","text_image"],[1,"card-text","mt-3"],[1,"card-title","font-weight-bold","text-primary"],[1,"blockquote"],[1,"text-left","text-primary"],[1,"text-left"],[1,"text-left","text-info"],["type","button",1,"font-weight-bold","btn","btn-outline-info","btn-sm","mt-4",3,"click"],[1,"fas","fa-plus","fa-lg","mr-2"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1),b(2,"img",2),a(3,"p",3),p(4),s(),a(5,"h6",4),p(6),s(),a(7,"blockquote",5)(8,"p",6),p(9,"Suggestions"),s(),a(10,"h6",7),p(11,"Try other keywords"),s(),a(12,"h6",7),p(13,"Delete search filters"),s(),b(14,"hr"),a(15,"h6",8),p(16,"Create new Item"),s(),a(17,"button",9),C("click",function(){return o.createItem()}),b(18,"i",10),p(19),s()()()()),e&2&&(m(4),E("No ",o.found," matches the specified search terms"),m(2),E(" ",o.searchField," "),m(13),E("Create ",o.creation," "))},styles:[".card[_ngcontent-%COMP%]{display:block;background-color:#fffc;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;border-radius:2px;transition:all .2s ease-in-out;cursor:pointer}.card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b}blockquote[_ngcontent-%COMP%]{border-left:3px solid #4285F4;margin:10px;padding:10px 20px}"]});let i=t;return i})();var se=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h({type:t}),t.\u0275inj=f({imports:[S,at,q]});let i=t;return i})();var O=class{constructor(){this.query="",this.page=""}};var de=(()=>{let t=class t{constructor(n){this.filter="",this.itemsPerPageDefault=5,this.searchField="",this.params=new O,this.itemsCount=0,this.itemsPage=1,this.itemsPerPage=4,this.query="",this.route=n.get(X),this.router=n.get(N),this.configService=n.get(et),this.itemsService=n.get(it),this.initialize()}initialize(){this.api=this.configService.config.api,this.url=this.configService.config.url+this.endpoint,this.readQueryParams()}readQueryParams(){this.route.queryParams.subscribe(n=>{this.params.query=n.q,n.page!==void 0&&(this.params.page=n.page,this.itemsPage=parseInt(this.params.page,10)),this.searchField=this.params.query,this.getItems()})}getItems(){this.loaded=!1,this.query=this.searchField,this.endpoint!==void 0&&this.itemsService.getItemsCount(this.api,this.url,this.query).subscribe(n=>{this.itemsCount=n.count,this.itemsPerPage<1&&(this.itemsPerPage=this.itemsPerPageDefault);let e=this.itemsPage,o=Math.ceil(this.itemsCount/this.itemsPerPage);e>=o&&(this.itemsPage=o),this.itemsService.getItems(this.api,this.url,this.itemsPerPage,this.itemsPage,this.query).subscribe(c=>{this.items=c,this.loaded=!0})})}writeQueryParams(){let n=this.searchField;(n===""||n===void 0)&&(n="");let e="/"+this.linkRoute,o="";this.itemsPage>1&&(o=this.itemsPage.toString()),this.params.query=n,this.params.page=o,this.router.navigate(["crud/"+e],{queryParams:this.params})}search(){this.query=this.searchField,this.writeQueryParams(),this.getItems()}changePage(n){this.itemsPage=n,this.writeQueryParams(),this.getItems()}selectItem(n){this.router.navigate(["/crud/"+this.link,n])}onChangePage(n){this.changePage(n)}onSearch(n){this.searchField=n,this.search()}};t.\u0275fac=function(e){return new(e||t)(F(z))},t.\u0275cmp=w({type:t,selectors:[["app-page-list"]],decls:0,vars:0,template:function(e,o){}});let i=t;return i})();export{de as a,St as b,Bt as c,te as d,jt as e,Ut as f,se as g};
